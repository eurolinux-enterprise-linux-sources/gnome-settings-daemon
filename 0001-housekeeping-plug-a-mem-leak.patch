From 401954917b89359bbac1fdf60cd8fccc2c9e6da8 Mon Sep 17 00:00:00 2001
From: Cosimo Cecchi <cosimoc@gnome.org>
Date: Thu, 26 Jan 2012 15:27:38 -0500
Subject: [PATCH] housekeeping: plug a mem leak

Free the mount list, since it's transfer full.

https://bugzilla.gnome.org/show_bug.cgi?id=668776
---
 plugins/housekeeping/gsd-disk-space.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/plugins/housekeeping/gsd-disk-space.c b/plugins/housekeeping/gsd-disk-space.c
index ad4c2bc..0fd733c 100644
--- a/plugins/housekeeping/gsd-disk-space.c
+++ b/plugins/housekeeping/gsd-disk-space.c
@@ -703,6 +703,8 @@ ldsm_check_all_mounts (gpointer data)
                 check_mounts = g_list_prepend (check_mounts, mount_info);
         }
 
+        g_list_free (mounts);
+
         number_of_mounts = g_list_length (check_mounts);
         if (number_of_mounts > 1)
                 multiple_volumes = TRUE;
-- 
2.1.0

